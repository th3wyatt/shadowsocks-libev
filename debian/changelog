shadowsocks-libev (2.6.3+ds-4) UNRELEASED; urgency=medium

  * debian/patches:
    - Backport a few patches from upstream.
      + [c67d275] Fix potential local exploit issue.
        Thanks to X41 D-Sec GmbH, Niklas Abel, for the reporting:
          https://www.x41-dsec.de/lab/advisories/x41-2017-010-shadowsocks-libev/

 -- Roger Shimizu <rogershimizu@gmail.com>  Sat, 21 Oct 2017 01:29:14 +0900

shadowsocks-libev (2.6.3+ds-3) unstable; urgency=medium

  * debian/patches:
    - Backport a few patches from upstream:
      + Fix Upstream BTS#1210 (again):
        Update doc (manpages) to fix typos. Thanks to Simon Shi.
      + Update ACL list, Upstream BTS#1394.
      + Fix two potential out of bound access, Upstream BTS#1465.

 -- Roger Shimizu <rogershimizu@gmail.com>  Thu, 20 Apr 2017 22:44:32 +0900

shadowsocks-libev (2.6.3+ds-2) unstable; urgency=medium

  * debian/patches:
    - Backport a few patches from upstream:
      + Fix Upstream BTS#1148:
        ss-local doesn't do DNS resolving for acl bypassed domains.
        (Closes: #859499).
      + Fix Upstream BTS#1210:
        Update doc (manpages) to fix typos. Thanks to Simon Shi.
        (Closes: #859502).

 -- Roger Shimizu <rogershimizu@gmail.com>  Tue, 04 Apr 2017 21:48:26 +0900

shadowsocks-libev (2.6.3+ds-1) unstable; urgency=medium

  * New upstream release 2.6.3
  * debian/copyright: Add .gitmodules and m4/lib-link.m4 to
    Files-Excluded list.
  * debian/patches:
    - Rebase previous patches, because upstream modified autoconf
      files heavily.
  * debian/rules:
    - Remove --enable-system-shared-lib from configure param.
    - Add note for --disable-ssp.
  * debian/patches:
    - Backport a few patches from upstream:
      + Cleanup unused _WIN32 #ifdef.
      + Add condition to check whether to support chacha20-ietf cipher
        (Patch 0004~0006 0008).
      + Cleanup configure.ac.

 -- Roger Shimizu <rogershimizu@gmail.com>  Wed, 25 Jan 2017 19:58:24 +0900

shadowsocks-libev (2.6.2+ds-1) unstable; urgency=medium

  * New upstream release 2.6.2
  * debian/shadowsocks-libev.{default,init,service}:
    - Run service as non-root.
  * debian/control:
    - Move libcap2-bin from Suggests to Depends.
  * debian/shadowsocks-libev.init:
    - To make plugin stop working also.
  * debian/patches:
    - Refresh existing patches.
    - Backport a few patches from upstream:
      + Fix typo of upstream changelog.
      + Fix src/server.c (Patch 0004)
      + Update manpage docs.
      + Update README of upstream.
      + Fix completions/bash/ss-server.
  * debian/copyright:
    - Update copyright year.
    - Remove a few files and directory from Files-Excluded, because those
      are already removed from upstream.

 -- Roger Shimizu <rogershimizu@gmail.com>  Sat, 21 Jan 2017 15:22:27 +0900

shadowsocks-libev (2.6.1+ds-2) unstable; urgency=medium

  * debian/control:
    - Limit "Suggests: libcap2-bin" in "linux-any". Hurd/kFreeBSD
      don't have this supported.
  * debian/patches:
    - Backport a patch from upstream to fix FTBFS on GNU/Hurd.
    - Backport a few patches from upstream.

 -- Roger Shimizu <rogershimizu@gmail.com>  Tue, 10 Jan 2017 23:38:17 +0900

shadowsocks-libev (2.6.1+ds-1) unstable; urgency=medium

  * New upstream release 2.6.1
  * debian/copyright:
    - Remove entry of copyright on src/base64.{c,h}, because those two src
      files has been removed from upstream.
  * debian/patches:
    - Backport a few patches from upstream.

 -- Roger Shimizu <rogershimizu@gmail.com>  Tue, 10 Jan 2017 00:07:49 +0900

shadowsocks-libev (2.6.0+ds-2) unstable; urgency=medium

  * Revert obfuscating function added since v2.6.0,
    due to it's already dropped by upstream, and won't be
    supported in the future.
  * debian/patches:
    - Add revert patch and refresh patches.
  * debian/copyright:
    - Add new entry of copyright on src/base64.{c,h}
    - Update copyright year.

 -- Roger Shimizu <rogershimizu@gmail.com>  Thu, 05 Jan 2017 23:55:09 +0900

shadowsocks-libev (2.6.0+ds-1) experimental; urgency=medium

  * New upstream release 2.6.0
  * debian/maint-tools:
    - Update README and script
  * debian/patches:
    - Rebase patches.
    - Backport a few patches from upstream.
  * debian/control & debian/shadowsocks-libev.postinst:
    - Add capabilities for Debian, so it's able to run ss-* as non-root.
      Cherry-picked from upstream git repo, And thanks to
      Zhengjun Zhang <siyanmao.sec@gmail.com>.
  * debian/control:
    - Build-Depends on asciidoc-base instead of asciidoc.
    - Set libshadowsocks-libev-dev as "Multi-Arch: same", based on wiki:
      https://wiki.debian.org/MultiArch/Hints

 -- Roger Shimizu <rogershimizu@gmail.com>  Thu, 05 Jan 2017 01:40:09 +0900

shadowsocks-libev (2.5.6+ds-1~bpo8+1) jessie-backports; urgency=medium

  * Rebuild for jessie-backports.
  * debian/patches:
    - Update 0003 patch, to disable cipher CHACHA20IETF,
      which it's not supported by libsodium in jessie
    - Refresh patches

 -- Roger Shimizu <rogershimizu@gmail.com>  Mon, 28 Nov 2016 01:18:44 +0900

shadowsocks-libev (2.5.6+ds-1) unstable; urgency=medium

  * New upstream release 2.5.6
  * debian/maint-tools:
    - Remove backported patches when merge with upstream
    - Fix typo and catch exception of tag existence
    - Add README

 -- Roger Shimizu <rogershimizu@gmail.com>  Sat, 05 Nov 2016 17:50:04 +0900

shadowsocks-libev (2.5.5+ds-2) unstable; urgency=medium

  * debian/copyright:
    - update slightly
  * debian/control:
    - Add lsb-base as dependency to package shadowsocks-libev, since the init
      script sources /lib/lsb/init-functions utility functions
    - Change the order of binary packages.
      Because README.Debian by default only installs on 1st binary package.
      (Closes: #842039)
    - Bump libcork-dev dependency version to incorporate the new libcork16
      library transition to avoid possible build issue.
  * debian/patches:
    - Refresh patches
    - Backport a few fixes from upstream

 -- Roger Shimizu <rogershimizu@gmail.com>  Sun, 30 Oct 2016 12:24:15 +0900

shadowsocks-libev (2.5.5+ds-1) unstable; urgency=medium

  * Update to upstream v2.5.5

 -- Roger Shimizu <rogershimizu@gmail.com>  Thu, 13 Oct 2016 00:57:07 +0900

shadowsocks-libev (2.5.3+ds-1) experimental; urgency=low

  * Update to upstream v2.5.3
    - Remove patches merged by upstream: 0003
    - Update patch 0001 0002: make it appliable to this version
    - Update debian/copyright: remove .github/, add newly appended files
  * debian/control:
    - Update based on upstream's change
    - Add Replaces and Breaks for lib version up
  * debian/maint-tools/:
    - Add two script to make life easier for new upstream release
  * debian/copyright:
    - Add license information for m4/ files

 -- Roger Shimizu <rogershimizu@gmail.com>  Tue, 04 Oct 2016 23:05:55 +0900

shadowsocks-libev (2.4.8+ds-1~bpo8+1) jessie-backports; urgency=medium

  * Rebuild for jessie-backports.
  * debian/patches:
    - Add patch to disable cipher CHACHA20IETF, which it's not supported
      by libsodium in jessie

 -- Roger Shimizu <rogershimizu@gmail.com>  Wed, 05 Oct 2016 02:51:35 +0900

shadowsocks-libev (2.4.8+ds-1) unstable; urgency=medium

  * Update to upstream v2.4.8
    - Remove patches merged by upstream: 0003 0004 0005
    - Update patch 0001: make it appliable to this version
    - Update debian/control to add newly appended build-dep
    - Update debian/rules to adjust param ordering as close as upstream
    - Update debian/copyright to remove man/, which merged into doc/ folder
  * debian/patches:
    - Cherry-Pick upstream patch 0003: add a few spaces to asciidoc to make
      lintian happy. Thanks to Max Lv for fixing this.

 -- Roger Shimizu <rogershimizu@gmail.com>  Fri, 22 Jul 2016 23:10:14 +0900

shadowsocks-libev (2.4.7+20160630+ds-3) unstable; urgency=low

  * debian/rules:
    - Add param "--disable-ssp" to dh_auto_configure command.
      Thanks to Aaron M. Ucko and Boyuan Yang. (Closes: #829498)
  * debian/patches:
    - Add 0003 patch, to fix PATH_MAX for GNU/Hurd.
    - Cherry-Pick two patch from upstream as 0004 and 0005

 -- Roger Shimizu <rogershimizu@gmail.com>  Mon, 18 Jul 2016 23:26:20 +0900

shadowsocks-libev (2.4.7+20160630+ds-2) unstable; urgency=medium

  * debian/control
    - Move to git repo to collab-maint on alioth
  * Change way to handle config file
    Install config.json file to /usr/share/<pkg>, instead of /etc, and then
    generate a config file under /etc, because conffile (under /etc) cannot
    be modified by maintainer script according to Debian Policy.
    Thanks help from Andreas Beckmann. (Closes: #829478)

 -- Roger Shimizu <rogershimizu@gmail.com>  Wed, 06 Jul 2016 01:49:40 +0200

shadowsocks-libev (2.4.7+20160630+ds-1) unstable; urgency=medium

  * Initial release (Closes: #824268)

 -- Roger Shimizu <rogershimizu@gmail.com>  Sat, 02 Jul 2016 10:18:59 +0200
