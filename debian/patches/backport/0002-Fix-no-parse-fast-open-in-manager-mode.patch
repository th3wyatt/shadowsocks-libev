From: Terry Chan <terry@32ph.com>
Date: Sat, 20 Jan 2018 15:34:40 +0800
Subject: Fix no parse --fast-open in manager mode

(cherry picked from commit ed508ac142f9ae98fee56b200f80c0d525484819)
---
 src/manager.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/manager.c b/src/manager.c
index fc99e19..75882f9 100644
--- a/src/manager.c
+++ b/src/manager.c
@@ -121,6 +121,8 @@ build_config(char *prefix, struct manager_ctx *manager, struct server *server)
         fprintf(f, ",\n\"method\":\"%s\"", manager->method);
     if (server->fast_open[0])
         fprintf(f, ",\n\"fast_open\": %s", server->fast_open);
+    else if (manager->fast_open)
+        fprintf(f, ",\n\"fast_open\": true");
     if (server->mode)
         fprintf(f, ",\n\"mode\":\"%s\"", server->mode);
     if (server->plugin)
